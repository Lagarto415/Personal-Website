import{_ as m,c as p,a as e,t as l,d as _,e as h,o as v}from"./index-Djg7FF3z.js";const b="/assets/game_icon-BVm3IGXD.png",g="/assets/newhabitat-BrF_Kl_q.png",d="/assets/mineral-GjxhyQWB.png",y="/assets/upgrademineral-BspGMiPQ.png",f="/assets/upgradewater-DMGYaSyW.png",a="/assets/x-5-d0ibC1.png",E="/assets/mine-C5SjLCKQ.png",w="/assets/waterpump-CAZvkPsv.png",I={data(){return{hour:0,minute:0,current_minerals:50,current_water:0,current_gold:0,current_citizens:1,minerals_level:0,water_level:0,gold_level:0,habitats:1,mineralsPS:0,waterPS:0,goldPS:0,citizensPS:0,workers:[{job:"mine",amount:0,max:0},{job:"water",amount:0,max:0},{job:"child",amount:0,max:0}],mineral_upgradeprice:[{lvl:1,price:50,ps:1},{lvl:2,price:100,ps:2},{lvl:3,price:200,ps:3}],water_upgradeprice:[{lvl:1,price:200,ps:.5},{lvl:2,price:400,ps:1},{lvl:3,price:800,ps:2}],habitat_price:[{lvl:1,price:500},{lvl:2,price:1e3},{lvl:3,price:2e3}],AllEvents:[{name:"Piraten",option1:"Verteidigen",option2:"Verhandeln",chance:.3},{name:"Aliens",option1:"Verteidigen",option2:"Verhandeln",chance:.6},{name:"Meteoren",option1:"Gebäude verstärken",option2:"Dorf evakuieren",chance:.9}]}},methods:{gameloop(){this.current_minerals+=this.mineralsPS,this.current_water+=this.waterPS,this.current_gold+=this.goldPS,this.citizen+=this.citizensPS,Math.random()>.995&&this.eventgeneration()},eventgeneration(){this.AllEvents.length===0&&console.log("No events loaded"),this.eventhandler(Math.floor(Math.random()*this.AllEvents.length))},saveGameState(){let i={current_minerals:this.current_minerals,current_water:this.current_water,current_gold:this.current_gold,current_citizens:this.current_citizens,minerals_level:this.minerals_level,water_level:this.water_level,gold_level:this.gold_level,habitats:this.habitats};document.cookie=`gamestate=${JSON.stringify(i)}; expires=Fri, 31 Dec 9999 23:59:59 GMT`},loadGameState(){let i=document.cookie.split(";").find(t=>t.trim().startsWith("gamestate="));if(i){const t=i.split("=")[1],n=JSON.parse(t);this.current_minerals=n.current_minerals,this.current_water=n.current_water,this.current_gold=n.current_gold,this.current_citizens=n.current_citizens,this.minerals_level=n.minerals_level,this.water_level=n.water_level,this.gold_level=n.gold_level,this.habitats=n.habitats}},pauseInterval(){clearInterval(this.intervalId),console.log("interval paused")},resumeInterval(){this.intervalId=setInterval(this.gameloop,1e3),console.log("interval resumed")},upgrade(i){console.log(this.current_minerals),console.log(this.mineral_upgradeprice[this.minerals_level].price),i=="minerals"?this.current_minerals>=this.mineral_upgradeprice[this.minerals_level].price?(this.current_minerals-=this.mineral_upgradeprice[this.minerals_level].price,this.minerals_level++,this.mineralsPS=this.mineral_upgradeprice[this.minerals_level-1].ps,this.income("minerals",-this.mineral_upgradeprice[this.minerals_level-1].price),console.log("minerals upgraded")):console.log("Not enough minerals"):i=="water"?this.current_minerals>=this.water_upgradeprice[this.water_level].price?(this.current_minerals-=this.water_upgradeprice[this.water_level].price,this.water_level++,this.income("water",-this.water_upgradeprice[this.water_level-1].price),console.log("water upgraded")):console.log("Not enough minerals"):i=="gold"?this.current_minerals>=this.gold_upgradeprice[this.gold_level].price?(this.current_minerals-=this.gold_upgradeprice[this.gold_level].price,this.gold_level++,this.income("gold",-this.gold_upgradeprice[this.gold_level-1].price),console.log("gold upgraded")):console.log("Not enough minerals"):i=="habitats"?this.current_minerals>=this.habitat_price[this.habitats-1].price?(this.current_minerals-=this.habitat_price[this.habitats-1].price,this.habitats++,this.income("habitats",-this.habitat_price[this.habitats-2].price),console.log("habitats upgraded")):console.log("Not enough minerals"):console.log("error in upgrade function: Not a valid object")},resetGame(){document.cookie="gameState=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",this.current_minerals=50,this.current_water=0,this.current_gold=0,this.current_citizens=1,this.minerals_level=0,this.water_level=0,this.gold_level=0,this.habitats=1},buildmenu(i){i=="open"?(document.getElementById("buildmenu").style.visibility="visible",document.getElementById("build_button").style.visibility="hidden",document.getElementById("expedition_button").style.visibility="hidden",document.getElementById("settings_button").style.visibility="hidden"):i=="close"?(document.getElementById("buildmenu").style.visibility="hidden",document.getElementById("build_button").style.visibility="visible",document.getElementById("expedition_button").style.visibility="visible",document.getElementById("settings_button").style.visibility="visible"):console.log("error in buildmenu function: Not a valid action")},buildable(i,t){let n;t=="mine"&&(n=document.getElementById("buildable_mine"),this.buildmenu("close")),t=="water"&&(n=document.getElementById("buildable_water"),this.buildmenu("close")),i=="open"?(n.style.visibility="visible",document.getElementById("build_button").style.visibility="hidden",document.getElementById("expedition_button").style.visibility="hidden",document.getElementById("settings_button").style.visibility="hidden"):i=="close"?(n.style.visibility="hidden",document.getElementById("build_button").style.visibility="visible",document.getElementById("expedition_button").style.visibility="visible",document.getElementById("settings_button").style.visibility="visible"):console.log("error in buildable function: Not a valid action")},eventmenu(i){i=="open"?(this.pauseInterval(),document.getElementById("eventpopup").style.visibility="visible",document.getElementById("build_button").style.visibility="hidden",document.getElementById("expedition_button").style.visibility="hidden",document.getElementById("settings_button").style.visibility="hidden"):i=="close"?(document.getElementById("eventpopup").style.visibility="hidden",document.getElementById("build_button").style.visibility="visible",document.getElementById("expedition_button").style.visibility="visible",document.getElementById("settings_button").style.visibility="visible",this.resumeInterval()):console.log("error in eventmenu function: Not a valid action")},wait(i){return new Promise(t=>setTimeout(t,i))},eventhandler(i){const t=this.AllEvents[i];if(console.log("Event:",t.name),t.options.length>=2){console.log("Option 1:",t.options[0].optionName),console.log("Option 2:",t.options[1].optionName),this.eventmenu("open");const n=document.getElementById("eventname"),c=document.getElementById("event_description"),s=document.getElementById("option1_button"),o=document.getElementById("option2_button"),r=document.getElementById("event_optiontext1"),u=document.getElementById("event_optiontext2");n.innerHTML=t.name,c.innerHTML=t.description,r.innerHTML="Option1: "+t.options[0].optionName,u.innerHTML="Option2: "+t.options[1].optionName,s.addEventListener("click",function(){this.executeEffect(t.options[0].effect),this.eventmenu("close")}),o.addEventListener("click",function(){this.executeEffect(t.options[1].effect),this.eventmenu("close")})}else this.executeEffect(t.options[0].effect)},executeEffect(i){switch(i){case"addminerals":{this.current_minerals+=i.value;break}default:console.log("error in executeEffect function: Not a valid effect")}}},mounted(){this.loadGameState(),this.minerals_level=this.minerals_level||0,this.water_level=this.water_level||0,this.current_citizens=this.current_citizens||0,this.workers[0].max=this.minerals_level,this.workers[1].max=this.water_level,this.workers[2].max=this.current_citizens,this.intervalId=setInterval(this.gameloop,1e3)}},B={class:"container"},x={class:"header"},k=e("div",{class:"logo"},[e("img",{src:b})],-1),S={class:"ressource"},z={id:"minerals"},N=e("span",{id:"mineral_income"},null,-1),C={class:"ressource"},M={id:"water"},A=e("span",{id:"water_income"},null,-1),P={class:"ressource"},T={id:"gold"},G=e("span",{id:"gold_income"},null,-1),V={class:"ressource"},j={id:"citizens"},L=e("span",{id:"citizen_income"},null,-1),O={class:"main"},W={class:"buildmenu",id:"buildmenu"},D={class:"buildimages"},H={class:"builditem"},F=e("img",{src:g},null,-1),J=[F],Q=e("img",{src:d},null,-1),U={id:"price_habitats"},K={class:"builditem"},q=e("img",{src:y},null,-1),R=[q],X=e("img",{src:d},null,-1),Y={id:"price_minerals"},Z={class:"builditem"},$=e("img",{src:f},null,-1),ee=[$],te=e("img",{src:d},null,-1),ie={id:"price_water"},se={class:"buildmenu_close"},ne=e("img",{src:a},null,-1),le=[ne],oe={class:"eventpopup",id:"eventpopup"},re=_('<div class="event_name"><p id="eventname">EVENTNAME</p></div><div><p id="event_description">EIN EVENT IST AUFGETRETEN</p></div><div><p id="event_optiontext1"></p><p id="event_optiontext2"></p></div>',3),de={class:"event_options"},ae=e("button",{id:"option1_button"},"Option 1",-1),ce=e("button",{id:"option2_button"},"Option 2",-1),_e={class:"buildable",id:"buildable_mine"},ue={class:"buildable_close"},me=e("img",{src:a},null,-1),pe=[me],he=e("div",{class:"buildable_headline"},[e("p",{id:"b_headline"},"Mine")],-1),ve=e("div",{class:"buildable_image"},[e("img",{src:E})],-1),be={class:"buildable_stats"},ge=e("p",null,[h("Effizienz: "),e("span",null,"0")],-1),ye={class:"buildable_actions"},fe={class:"buildable_actions_upgrade"},Ee=e("button",null,"Effizienz steigern",-1),we=e("div",{class:"buildable_actions_upgrade"},[e("button",null,"Arbeiter zuweisen"),e("button",null,"Arbeiter entfernen")],-1),Ie={class:"buildable",id:"buildable_water"},Be={class:"buildable_close"},xe=e("img",{src:a},null,-1),ke=[xe],Se=_('<div class="buildable_headline"><p id="b_headline">Wasserpumpe</p></div><div class="buildable_image"><img src="'+w+'"></div><div class="buildable_stats"><p>Wasser pro Sekunde: <span>0</span></p><p>Effizienz: <span>0</span></p><p>Arbeiter: <span>0 / 0</span></p></div>',3),ze={class:"buildable_actions"},Ne={class:"buildable_actions_upgrade"},Ce=e("button",null,"Effizienz steigern",-1),Me=e("div",{class:"buildable_actions_upgrade"},[e("button",null,"Arbeiter zuweisen"),e("button",null,"Arbeiter entfernen")],-1),Ae={class:"stats"},Pe={class:"buttons"},Te=e("button",{id:"expedition_button"},"Expedition",-1),Ge=e("button",{id:"settings_button"},"Einstellungen",-1);function Ve(i,t,n,c,s,o){return v(),p("div",B,[e("div",x,[k,e("div",S,[e("p",null,[e("span",z,l(s.current_minerals)+" Mineralien",1),N])]),e("div",C,[e("p",null,[e("span",M,l(s.current_water)+" Wasser",1),A])]),e("div",P,[e("p",null,[e("span",T,l(s.current_gold)+" Gold",1),G])]),e("div",V,[e("p",null,[e("span",j,l(s.current_citizens)+" Einwohner",1),L])])]),e("div",O,[e("div",W,[e("div",D,[e("div",H,[e("a",{onClick:t[0]||(t[0]=r=>o.upgrade("habitats")),id:"buildobj"},J),e("p",null,[Q,e("span",U,l(s.habitat_price[s.habitats-1].price),1)])]),e("div",K,[e("a",{onClick:t[1]||(t[1]=r=>o.buildable("open","mine")),id:"buildobj"},R),e("p",null,[X,e("span",Y,l(s.mineral_upgradeprice[s.minerals_level].price),1)])]),e("div",Z,[e("a",{onClick:t[2]||(t[2]=r=>o.buildable("open","water")),id:"buildobj"},ee),e("p",null,[te,e("span",ie,l(s.water_upgradeprice[s.water_level].price),1)])])]),e("div",se,[e("a",{onClick:t[3]||(t[3]=r=>o.buildmenu("close"))},le)])]),e("div",oe,[re,e("div",de,[ae,e("button",{onClick:t[4]||(t[4]=r=>o.eventmenu("close"))},"Ignorieren"),ce])]),e("div",_e,[e("div",ue,[e("a",{onClick:t[5]||(t[5]=r=>o.buildable("close","mine"))},pe)]),he,ve,e("div",be,[e("p",null,"Mineralien pro Sekunde: "+l(s.mineralsPS),1),ge,e("p",null,"Arbeiter: "+l(s.workers[0].amount)+" / "+l(s.workers[0].max),1)]),e("div",ye,[e("div",fe,[e("button",{onClick:t[6]||(t[6]=r=>o.upgrade("minerals"))},"Verbessern"),Ee]),we])]),e("div",Ie,[e("div",Be,[e("a",{onClick:t[7]||(t[7]=r=>o.buildable("close","water"))},ke)]),Se,e("div",ze,[e("div",Ne,[e("button",{onClick:t[8]||(t[8]=r=>o.upgrade("water"))},"Verbessern"),Ce]),Me])]),e("div",Ae,[e("p",null,"Unterkünfte: "+l(s.habitats),1),e("p",null,"Mineralmine Level: "+l(s.minerals_level),1),e("p",null,"Wasserpumpen: "+l(s.water_level),1)]),e("div",Pe,[Te,e("button",{id:"build_button",onClick:t[9]||(t[9]=r=>o.buildmenu("open"))},"Bauen"),Ge])])])}const Le=m(I,[["render",Ve]]);export{Le as default};
